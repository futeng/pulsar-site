---
id: release-policy
title: Release policy
---

## 支持的版本

请根据下面提供的日期规划你的 Pulsar 部署更新。Apache Pulsar 项目不会单独宣布支持终止或生命周期结束的通知。但是，请注意，Apache Pulsar 项目可能会根据资源可用性、时间限制或问题的严重性（如重要的 CVE）为一些较旧的补丁版本提供临时发布。这些发布将在"尽力而为"的基础上提供。对于支持的版本，Apache Pulsar 项目遵循[安全政策](/security)。

Apache Pulsar 项目接受支持版本的[问题报告](https://github.com/apache/pulsar/issues)。问题报告者被要求在提交问题报告之前将 Pulsar 客户端和 Pulsar 集群升级到支持版本。围绕 Apache Pulsar 的商业供应商可能会为需要先前发布版本的安全和错误修复支持的用户提供付费选项。

````mdx-code-block
import SupportedVersionsTable from "@site/src/components/SupportedVersionsTable";

<SupportedVersionsTable />
````

## 发布语义

Pulsar 项目遵循语义化版本（semver）的变体，用 `LTS.feature.patch` 替换 `major.minor.patch`。

具体来说，现有发布可以期望针对错误和安全漏洞的补丁。新功能将针对功能发布。"主要"版本升级在包含的"大功能"或破坏性 API 更改方面没有特殊含义。相反，它只是标志着一个新的长期支持（LTS）发布。

例如，

* 2.10.0 是功能发布；
* 2.10.1 是补丁发布；
* 2.11.0 是功能发布；
* 3.0.0 是第一个 LTS 发布；
* 3.0.1 是 LTS 发布的补丁发布；
* 3.1.0 是功能发布；
* 3.2.0 是功能发布；
* 3.2.1 是补丁发布；
* 4.0.0 是 LTS 发布。

## 发布版本之间的兼容性

升级现有集群时，线性升级组件很重要。原因是这样设计发布版本中的更改，允许将现有 Pulsar 集群升级到新版本，然后回滚到原始发布版本。在 Pulsar 中进行更改以及 Pulsar 的默认 BookKeeper 配置时会考虑这一点。由于 Apache Pulsar 是一个开源项目，没有保证。每个 Pulsar 用户都有责任操作自己的集群，Pulsar 集群升级应该在测试和预发布环境中进行测试，以确保特定配置可以升级和降级。当 Apache 项目中支持某些功能时，意味着项目致力于处理报告的问题。这也适用于发布升级兼容性。

在 3.0 版本之前，应该通过每个功能版本线性进行升级。例如，当从 2.8 升级到 2.10 时，在转到 2.10 之前升级到 2.9 很重要。

从 3.0 版本开始，支持一个 LTS 和下一个 LTS 之间的实时升级/降级。例如，

* 3.0 -> 4.0 -> 3.0 是可以的；
* 3.2 -> 4.0 -> 3.2 是可以的；
* 3.2 -> 4.4 -> 3.2 是可以的；
* 3.0 -> 3.1 -> 3.0 是可以的；
* 3.0 -> 3.2 -> 3.0 是可以的；
* 3.2 -> 5.0 是不可以的。

## 发布频率和支持期望

|                 | 发布频率 | 活动支持 | 安全支持 |
|-----------------|-----------|----------|----------|
| LTS 发布        | 每 18 个月 | 24 个月  | 36 个月  |
| 功能发布        | 每 3 个月  | 6 个月   | 6 个月   |
| 补丁发布        | 准备就绪时 | 不适用   | 不适用   |

这可以转化为：

* 支持最近 2 个 LTS 发布和最近 2 个功能发布。
* 为过去 3 个 LTS 发布和 2 个功能发布提供安全补丁

因此，用户可以选择保持在 LTS 发布中，直到他们准备好跳转到下一个 LTS，或者尝试包含所需功能的最新发布。

## 发布周期

通常，一个提交者应该自愿作为特定发布的发布管理员。发布通过 Pulsar 邮件列表上的讨论线程启动。

作为发布讨论线程的一部分，决定发布的时间表。发布管理员将推动这个讨论，决策将以 Apache 的方式做出。

对于功能发布和 LTS 发布，发布周期的最后三周将被标记为发布期，以完成待处理的更改并决定哪些功能（PIP 实现）进入发布版本。

作为 LTS 或功能发布这个时期的一部分，可能有多个预览发布和多个发布候选。预览发布是不打算发布的。预览发布的目的是通过提供发布二进制文件允许用户开始测试新的发布功能。预览发布将包含后缀 `-pre.1`、`-pre.2`。预览发布不适用于补丁发布。

这是 4.0.0 LTS 发布时间表的示例：

* 2024-09-26 - 4.0 预览 1 (4.0.0-pre.1) 的目标发布日期
* 2024-10-03 - 4.0 预览 2 (4.0.0-pre.2) 的目标发布日期
* 2024-10-07 - 通过从 master 分支分支 branch-4.0 进行 4.0 代码冻结
* 2024-10-10 - 4.0 发布候选 1 的目标发布日期
* 2024-10-15 - 为 4.0 发布候选 2 保留，如果需要
* 2024-10-17 - 4.0.0 的公告日期

LTS 或功能发布时间表还会注意到从 master 分支分支发布分支的目标日期。在那个时间点之后，发布管理员将协调将包含在发布分支中的更改。目的是最小化延迟发布的风险，只包含涉及与先前发布相比行为回归的修复或对新功能（PIP 实现）的关键改进。

对于补丁发布，过程类似，但没有从 master 分支分支，因为发布分支已经存在。补丁发布不包含预览发布。

发布的准备按照[发布流程](release-process.md)处理。发布管理员负责在需要调整流程时更新流程文档。还有一个[发布验证](validate-release-candidate.md)指南，供 Pulsar 贡献者在发布投票前使用。在发布宣布之前，发布将在 [Pulsar 开发邮件列表](https://lists.apache.org/list.html?dev@pulsar.apache.org)上进行投票。[ASF 投票流程](https://www.apache.org/foundation/voting.html)适用。发布候选在通过发布投票并被宣布后将变为官方发布。这就是为什么发布候选二进制文件中的发布版本不包含 `-rc` 后缀的原因。

## 相关 PIP

* [PIP-47: A Time-Based Release Plan](https://github.com/apache/pulsar/wiki/PIP-47%3A-Time-Based-Release-Plan)
* [PIP-175: Extend time based release process](https://github.com/apache/pulsar/issues/15966)